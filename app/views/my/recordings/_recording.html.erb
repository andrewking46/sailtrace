<div class="p-4 flex flex-col sm:flex-row sm:items-start gap-4 relative">

  <!-- Right/Bottom: Route image (square) -->
  <div class="flex-shrink-0">
    <img src="" alt="" class="h-24 w-24 rounded-md object-cover bg-gray-100 dark:bg-zinc-800"/>
  </div>

  <% if recording.is_race? %>
    <div class="absolute top-2 right-2 inline-flex items-center gap-x-1.5 rounded-md bg-primary/10 px-2 py-1 text-xs font-medium text-primary ring-1 ring-inset ring-primary/20">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-3">
        <path fill-rule="evenodd" d="M3 2.25a.75.75 0 0 1 .75.75v.54l1.838-.46a9.75 9.75 0 0 1 6.725.738l.108.054A8.25 8.25 0 0 0 18 4.524l3.11-.732a.75.75 0 0 1 .917.81 47.784 47.784 0 0 0 .005 10.337.75.75 0 0 1-.574.812l-3.114.733a9.75 9.75 0 0 1-6.594-.77l-.108-.054a8.25 8.25 0 0 0-5.69-.625l-2.202.55V21a.75.75 0 0 1-1.5 0V3A.75.75 0 0 1 3 2.25Z" clip-rule="evenodd" />
      </svg>
      <span>Race</span>
    </div>
  <% end %>

  <!-- Left/Top: Main info -->
  <div class="flex-1 min-w-0">
    <!-- Date / Time in local time zone -->
    <p class="text-sm text-gray-500 dark:text-zinc-400">
      <time datetime="<%= recording.started_at.iso8601 %>"><%= recording.started_at.in_time_zone(recording.time_zone).strftime("%B %-d, %Y • %l:%M %p %Z") %></time>
    </p>

    <!-- Boat Info -->
    <p class="mt-1 font-medium text-gray-900 dark:text-white">
      <span><%= recording.boat.name %></span>
      <span class="text-gray-500 dark:text-zinc-400 font-normal">(<%= recording.boat.registration_country %> <%= recording.boat.sail_number %>)</span>
    </p>

    <dl class="flex flex-nowrap gap-x-8 items-start mt-3">
      <div>
        <dt class="text-sm/6">Distance</dt>
        <dd><%= recording.distance.present? ? "#{recording.distance.round(2)} nm" : "–" %></dd>
      </div>
      <div>
        <dt class="text-sm/6">Time</dt>
        <dd><%= recording.ended_at.present? ? recording.duration : "In progress" %></dd>
      </div>
      <div>
        <dt class="text-sm/6">Average speed</dt>
        <dd><%= "#{recording.average_speed} kts" %></dd>
      </div>
    </dl>
  </div>
</div>
